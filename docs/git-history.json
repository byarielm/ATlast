[
  {
    "hash": "bd3aabb75abb1875aef125610fcdccb14967a8e3",
    "short_hash": "bd3aabb",
    "author": "Ariel M. Lighty",
    "date": "2025-12-27T22:10:11-05:00",
    "message": "fix: extension dark mode and build mode messaging\n\n- Changed darkMode from 'class' to 'media' for automatic system preference detection\n- Made server offline message conditional on build mode (dev vs prod)\n- Hide dev server instructions in production builds",
    "files_changed": 5
  },
  {
    "hash": "d07180cd3a19328b82b35118e525b59d4e2e060b",
    "short_hash": "d07180c",
    "author": "Ariel M. Lighty",
    "date": "2025-12-27T18:38:39-05:00",
    "message": "feat: add Tailwind CSS to extension\n\nReplaced 299 lines of vanilla CSS with Tailwind for design consistency with web app. Production build minified to 13KB.",
    "files_changed": 9
  },
  {
    "hash": "d07180cd3a19328b82b35118e525b59d4e2e060b",
    "short_hash": "d07180c",
    "author": "Ariel M. Lighty",
    "date": "2025-12-27T18:38:39-05:00",
    "message": "feat: add Tailwind CSS to extension\n\nReplaced 299 lines of vanilla CSS with Tailwind for design consistency with web app. Production build minified to 13KB.",
    "files_changed": 9
  },
  {
    "hash": "fe29bb3e5faa0151f63c14724f7509af669860de",
    "short_hash": "fe29bb3",
    "author": "Ariel M. Lighty",
    "date": "2025-12-27T16:02:10-05:00",
    "message": "docs: update all .md files to reflect current project status\n\nUpdated 4 markdown files with current state:\n\nEXTENSION_STATUS.md:\n- Changed status from DEBUGGING to COMPLETE\n- Updated decision graph count (295 → 332 nodes)\n- Added recently completed section (nodes 296-332)\n- Marked all extension bugs as resolved\n\nCONTRIBUTING.md:\n- Replaced npm with pnpm throughout\n- Added monorepo structure documentation\n- Updated development commands (netlify-cli dev --filter)\n- Added extension development workflow\n\nPLAN.md:\n- Updated status to Phase 1 COMPLETE\n- Added all recent fixes to completion list\n- Updated decision graph count to 332 nodes\n- Added changelog entries for latest work\n\npackages/extension/README.md:\n- Added prerequisites section (dev server + login required)\n- Updated build commands with dev/prod distinction\n- Added Step 0: Start ATlast Dev Server\n- Added common issues for auth and server states\n\nAll files now accurately reflect completion status and use pnpm.",
    "files_changed": 6
  },
  {
    "hash": "fcf682bb8969aca108262348e7e17531077713be",
    "short_hash": "fcf682b",
    "author": "Ariel M. Lighty",
    "date": "2025-12-27T15:48:44-05:00",
    "message": "docs: improve decision graph workflow with lifecycle management\n\nUpdated CLAUDE.md with comprehensive node lifecycle management:\n- Added node status transitions (pending → in_progress → completed)\n- Correct orphan detection commands (awk instead of cut)\n- Common mistakes section with examples\n- Enhanced audit checklist with status verification\n- Verification workflow after node creation\n\nAlso updated extension popup with ATmosphere branding.\n\nDecision graph now at 331 nodes, 332 edges - all orphans resolved.",
    "files_changed": 4
  },
  {
    "hash": "fcf682bb8969aca108262348e7e17531077713be",
    "short_hash": "fcf682b",
    "author": "Ariel M. Lighty",
    "date": "2025-12-27T15:48:44-05:00",
    "message": "docs: improve decision graph workflow with lifecycle management\n\nUpdated CLAUDE.md with comprehensive node lifecycle management:\n- Added node status transitions (pending → in_progress → completed)\n- Correct orphan detection commands (awk instead of cut)\n- Common mistakes section with examples\n- Enhanced audit checklist with status verification\n- Verification workflow after node creation\n\nAlso updated extension popup with ATmosphere branding.\n\nDecision graph now at 331 nodes, 332 edges - all orphans resolved.",
    "files_changed": 4
  },
  {
    "hash": "e04934ffb5e2d78791fcd23bc3afeb4d438a5546",
    "short_hash": "e04934f",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T21:57:05-05:00",
    "message": "perf: optimize Vite dev server startup\n\nAdded explicit optimizeDeps.include to pre-bundle common dependencies:\n- React ecosystem (react, react-dom, react-router-dom)\n- Icon libraries (@icons-pack/react-simple-icons, lucide-react)\n- Other deps (date-fns, jszip, zustand, @tanstack/react-virtual)\n\nAlso added server.fs.allow config for monorepo file serving.\n\nThis should speed up subsequent dev server starts by ensuring these\ndependencies are consistently pre-bundled.",
    "files_changed": 1
  },
  {
    "hash": "aacbbaa27797781098dacdfd0194c93cd71d7bd2",
    "short_hash": "aacbbaa",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T21:46:06-05:00",
    "message": "fix: use TIMESTAMPTZ for all timestamp columns\n\nChanged all TIMESTAMP columns to TIMESTAMPTZ (timestamp with timezone) to\nproperly handle timezone-aware timestamps across all tables:\n- oauth_states (created_at, expires_at)\n- oauth_sessions (created_at, expires_at)\n- user_sessions (created_at, expires_at)\n- user_uploads (created_at, last_checked)\n- source_accounts (last_checked, match_found_at, created_at)\n- user_source_follows (created_at)\n- atproto_matches (found_at, last_verified, last_follow_check)\n- user_match_status (notified_at, viewed_at, followed_at, dismissed_at)\n- notification_queue (created_at, sent_at)\n\nThis fixes the 5-hour timezone offset issue where timestamps were stored\nwithout timezone info, causing display errors across different timezones.",
    "files_changed": 1
  },
  {
    "hash": "46626f4a18eaaaaf42368361130bb1ddc7bd9677",
    "short_hash": "46626f4",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T21:20:34-05:00",
    "message": "fix: show loading screen during extension upload search\n\nPreviously when loading an upload from extension that hadn't been searched yet,\nthe app would immediately navigate to the results page showing 'none' for all\nmatches, then update them as the search progressed.\n\nNow it behaves like the file upload flow:\n- Shows loading screen during search\n- Navigates to results only after search completes and results are saved\n- If upload already has matches, navigates to results immediately",
    "files_changed": 1
  },
  {
    "hash": "212660a996d6b0f1db59f9532d2b3968c7113f10",
    "short_hash": "212660a",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T20:58:45-05:00",
    "message": "fix: pass final search results to onComplete callback\n\nFixes issue where results were displayed but not saved to database until\npage refresh. Root cause: onComplete callback accessed stale searchResults\nfrom closure instead of updated state.\n\nChanges:\n- useSearch.searchAllUsers: onComplete now receives SearchResult[] param\n- useSearch: uses setSearchResults updater to get current state\n- App.tsx: updated all 3 searchAllUsers calls to use finalResults\n- Removed setTimeout workarounds\n\nResult: Extension and file upload flows now save immediately after search.",
    "files_changed": 4
  },
  {
    "hash": "6ced3f0b015af1c9126559a393996576402cfd03",
    "short_hash": "6ced3f0",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T14:12:46-05:00",
    "message": "fix extension flow: create user_source_follows, auto-search, time display\n\nBackend (extension-import.ts):\n- Now creates user_source_follows entries linking upload to source accounts\n- Without these, get-upload-details returned empty (queries FROM user_source_follows)\n- Uses bulkCreate return value (Map<username, id>) to create links\n\nFrontend (App.tsx):\n- handleLoadUpload now detects if upload has no matches yet\n- Sets isSearching: true for new uploads\n- Automatically triggers searchAllUsers for new uploads\n- Saves results after search completes\n- Changed platform from hardcoded \"tiktok\" to \"twitter\"\n\nFrontend (HistoryTab.tsx):\n- Fixed time display: removed \"Uploaded\" prefix\n- Now shows \"about 5 hours ago\" instead of \"Uploaded in about 5 hours\"\n- formatRelativeTime with addSuffix already provides complete sentence\n\nResolves:\n- Empty results on page load\n- No automatic searching\n- History navigation not working (will work after search)\n- Grammatically incorrect time display",
    "files_changed": 5
  },
  {
    "hash": "581ed00fec3c0c5f472c6ff92e00bf4ed5b27e9a",
    "short_hash": "581ed00",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T13:47:37-05:00",
    "message": "fix extension import: use bulkCreate and handle uploadId param\n\nBackend fixes:\n- Use SourceAccountRepository.bulkCreate() instead of non-existent upsertSourceAccount()\n- Change redirectUrl from /results?uploadId= to /?uploadId=\n- More efficient bulk insert instead of loop\n\nFrontend fixes:\n- Add useEffect to load results when uploadId param present\n- Calls loadUploadResults(uploadId) automatically on page load\n- Cleans up URL param after loading\n\nResolves:\n- \"sourceAccountRepo.upsertSourceAccount is not a function\" error\n- \"No routes matched location /results?uploadId=...\" routing error",
    "files_changed": 4
  },
  {
    "hash": "9ca734749fbaa014828f8437afc5e515610afd31",
    "short_hash": "9ca7347",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T13:37:24-05:00",
    "message": "update documentation: extension ready for testing after API response fix",
    "files_changed": 4
  },
  {
    "hash": "95636330f387598f55017eda668fb9f91ccde509",
    "short_hash": "9563633",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T13:35:52-05:00",
    "message": "fix extension api-client: unwrap ApiResponse.data structure\n\nBackend endpoints use successResponse() which wraps data in:\n  { success: true, data: {...} }\n\nExtension was expecting flat response structure, causing:\n- uploadToATlast to return undefined (missing importId, redirectUrl)\n- checkSession to return wrapped object instead of user data\n- Invalid URL error: \"http://127.0.0.1:8888undefined\"\n\nFixed both uploadToATlast and checkSession to access apiResponse.data",
    "files_changed": 2
  },
  {
    "hash": "34bd9dcd1237971a87627b148c0452b8484e4871",
    "short_hash": "34bd9dc",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T00:50:44-05:00",
    "message": "update documentation with current debugging status\n\nPLAN.md updates:\n- Added current status section with recent fixes and active work\n- Marked Phase 0 as complete\n- Marked Phase 1 as in progress (debugging)\n- Updated changelog with 2025-12-26 progress\n- Updated decision graph count to 288 nodes\n\nEXTENSION_STATUS.md updates:\n- Changed state from READY FOR TESTING to DEBUGGING\n- Added fixed issues section (NaN bug, database init)\n- Added active debugging section\n- Updated decision graph summary to 288 nodes\n- Added node references for recent fixes (#287-288)\n\nDecision graph:\n- Synced with latest nodes (288 total, 276 edges)\n- Tracked database initialization outcome",
    "files_changed": 4
  },
  {
    "hash": "1a355fe785eb1768dba3f4c3a8ba631904d1d6d6",
    "short_hash": "1a355fe",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T00:33:21-05:00",
    "message": "fix extension-import: add missing matchedUsers parameter to createUpload\n\nThe createUpload method expects 5 parameters but we were only passing 4,\ncausing NaN to be inserted for unmatched_users calculation. Now passing 0\nfor matchedUsers (will be updated after search is performed).",
    "files_changed": 1
  },
  {
    "hash": "d0bcf337b6d223a86443f6f67767e87b74e4dd7d",
    "short_hash": "d0bcf33",
    "author": "Ariel M. Lighty",
    "date": "2025-12-26T00:26:09-05:00",
    "message": "refactor extension to require authentication and use proper upload flow\n\nRemoved temporary storage approach and implemented proper authentication flow:\n\nExtension changes:\n- Added session check to popup init flow (checkSession in api-client)\n- Added \"not logged in\" state with login prompts\n- Updated uploadToATlast to include credentials for cookie-based auth\n- Extension now requires user to be logged in BEFORE scanning\n\nBackend changes:\n- Converted extension-import to AuthenticatedHandler (requires auth)\n- Now creates upload records immediately (no temporary storage)\n- Removed extension_imports table from database schema\n- Deleted get-extension-import function (no longer needed)\n- Deleted import-store utility (temporary approach removed)\n\nFrontend changes:\n- Removed ExtensionImport page and /import/:id route\n- Extension uploads now use same flow as file uploads\n\nThis matches the correct user flow: user logs in to ATlast first, then\nextension creates permanent upload records directly (same as file uploads).\n\nBuilt extension successfully for dev environment.",
    "files_changed": 12
  },
  {
    "hash": "c35fb0d83202607facc203dfe10325e8672ea67e",
    "short_hash": "c35fb0d",
    "author": "Ariel M. Lighty",
    "date": "2025-12-25T19:16:38-05:00",
    "message": "add validation to prevent uploading empty results\n\nCheck if usernames array has items before attempting upload.\nShows clear error message instead of hanging.",
    "files_changed": 1
  },
  {
    "hash": "0718100fbf6342cb21e8877e32b6f590b0b8cc57",
    "short_hash": "0718100",
    "author": "Ariel M. Lighty",
    "date": "2025-12-25T18:52:32-05:00",
    "message": "fix critical messaging bug: onMessage was discarding return values\n\nThe onMessage wrapper in messaging.ts was only sending {success: true}\ninstead of the actual handler return value. This caused the popup to\nreceive undefined state even though the background worker was correctly\nstoring it.\n\nChanges:\n- messaging.ts: Changed onMessage to forward handler return values\n- background service-worker.ts: Added comprehensive logging\n- popup.ts: Added state change listener and detailed logging\n\nThis fixes the issue where popup showed 'Go to...' even when on the\nfollowing page.",
    "files_changed": 3
  },
  {
    "hash": "ba29fd68872913ba0a587aa7f29f97b3d373a732",
    "short_hash": "ba29fd6",
    "author": "Ariel M. Lighty",
    "date": "2025-12-25T13:22:32-05:00",
    "message": "configure Netlify dev for monorepo with --filter flag\n\nFixed Netlify CLI monorepo detection issue by using --filter flag:\n- Updated root package.json scripts to use 'npx netlify-cli dev --filter @atlast/web'\n- Updated netlify.toml [dev] section to use npm with --prefix for framework command\n- Added monorepo development instructions to CLAUDE.md\n- Documented Windows Git Bash compatibility issue with netlify command\n\nSolution: Use 'npx netlify-cli dev --filter @atlast/web' to bypass monorepo\nproject selection prompt and specify which workspace package to run.\n\nDev server now runs successfully at http://localhost:8888 with all backend\nfunctions loaded.",
    "files_changed": 5
  },
  {
    "hash": "32cdee3aeac7ef986df47e0fff786b5f7471e55b",
    "short_hash": "32cdee3",
    "author": "Ariel M. Lighty",
    "date": "2025-12-25T13:22:32-05:00",
    "message": "configure Netlify dev for monorepo with --filter flag\n\nFixed Netlify CLI monorepo detection issue by using --filter flag:\n- Updated root package.json scripts to use 'npx netlify-cli dev --filter @atlast/web'\n- Updated netlify.toml [dev] section to use npm with --prefix for framework command\n- Added monorepo development instructions to CLAUDE.md\n- Documented Windows Git Bash compatibility issue with netlify command\n\nSolution: Use 'npx netlify-cli dev --filter @atlast/web' to bypass monorepo\nproject selection prompt and specify which workspace package to run.\n\nDev server now runs successfully at http://localhost:8888 with all backend\nfunctions loaded.",
    "files_changed": 4
  },
  {
    "hash": "c3e7afad396d130791d801a85cbfc9643bcd6309",
    "short_hash": "c3e7afa",
    "author": "Ariel M. Lighty",
    "date": "2025-12-25T12:47:38-05:00",
    "message": "migrate to pnpm monorepo structure\n\nRestructured codebase into pnpm workspace with three packages:\n- packages/web: React frontend (from src/)\n- packages/functions: Netlify serverless functions (from netlify/functions/)\n- packages/shared: Shared TypeScript types for Platform and Import APIs\n\nChanges:\n- Created pnpm-workspace.yaml for workspace configuration\n- Moved all web app files to packages/web/\n- Moved all Netlify functions to packages/functions/src/\n- Created packages/shared with Platform enum and ExtensionImportRequest/Response types\n- Updated netlify.toml to point to new paths\n- Updated root package.json scripts to use pnpm workspace commands\n- All dependencies split appropriately between packages\n\nPhase 0 (Monorepo Migration) from PLAN.md completed successfully.\nBuilds and dev server tested and working.",
    "files_changed": 317
  },
  {
    "hash": "e2d6a7e940ea402570c9397a722a4050c735cb6d",
    "short_hash": "e2d6a7e",
    "author": "Ariel M. Lighty",
    "date": "2025-12-24T21:09:33-05:00",
    "message": "remove .claude/ and dist/ from repository\n\nThese directories are already in .gitignore but were committed\nbefore the ignore rules were added. Removed from tracking while\nkeeping local files intact.",
    "files_changed": 6
  },
  {
    "hash": "f79a669dd6528340d453cb28e9fed2bd5232d46c",
    "short_hash": "f79a669",
    "author": "Ariel M. Lighty",
    "date": "2025-12-24T19:38:51-05:00",
    "message": "move tooltip from hero to login form as superscript\n\n- Removed tooltip from HeroSection (ATmosphere now plain text)\n- Added superscript info icon next to 'ATmosphere' in login form text\n- Tooltip content left-aligned for better readability\n- Maintains platform-agnostic design",
    "files_changed": 2
  },
  {
    "hash": "9bdca934948a284e1315961b4430bae0b6617cbe",
    "short_hash": "9bdca93",
    "author": "Ariel M. Lighty",
    "date": "2025-12-24T18:35:00-05:00",
    "message": "fix login avatar display by fetching from Bluesky API\n\nactor-typeahead component doesn't expose avatar data via events or attributes.\nAdded debounced API fetch (300ms) to searchActorsTypeahead endpoint when\nhandle is entered. Avatar now displays for both typeahead selections and\nmanually entered handles.",
    "files_changed": 1
  },
  {
    "hash": "6cd4d622930e2a43531f2df40d930ceb5d2b4dbc",
    "short_hash": "6cd4d62",
    "author": "Ariel M. Lighty",
    "date": "2025-12-24T00:27:50-05:00",
    "message": "use shared card component for history and results",
    "files_changed": 4
  },
  {
    "hash": "cc586d28ea8d4544467392be1083fdec11731814",
    "short_hash": "cc586d2",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T21:11:19-05:00",
    "message": "replace excessive toasts with aria-live announcer\n\nRemove redundant success/info toasts (logout, upload loaded, no results).\nKeep only error toasts for critical feedback.\nAdd AriaLiveAnnouncer component for screen reader accessibility.",
    "files_changed": 2
  },
  {
    "hash": "ebb1e05cac477f02e1901aab6f3a8005016472f9",
    "short_hash": "ebb1e05",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T21:10:58-05:00",
    "message": "fix mobile alignment: badges and descriptions align with avatar",
    "files_changed": 1
  },
  {
    "hash": "4c3ae0dbca215d10b499fc646ae7f53c43c658ac",
    "short_hash": "4c3ae0d",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T20:58:15-05:00",
    "message": "fix login typeahead autofill and auto-strip @ symbol\n\nTypeahead fix:\n- Add event listeners for input/change/blur to sync actor-typeahead selections with form state\n- Ensures Enter/Tab selections from typeahead dropdown properly update form\n- Allows Enter key to submit form after selection\n\n@ stripping:\n- Automatically remove leading @ from handle input\n- Show helpful inline message when @ is stripped\n- Inform users the @ symbol isn't needed",
    "files_changed": 1
  },
  {
    "hash": "8e9efd2577b82cb61b0162a28b4ab072bbccf00b",
    "short_hash": "8e9efd2",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T20:57:21-05:00",
    "message": "update CLAUDE.md with separate commit guidance\n\nAdd critical note that each commit should address ONE specific fix or feature.\nMultiple unrelated changes should be committed separately for clearer history.",
    "files_changed": 1
  },
  {
    "hash": "587a9b0314546b91e00c94bf87d28d29f6527456",
    "short_hash": "587a9b0",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T19:34:34-05:00",
    "message": "add rate limiting to batch endpoints\n\nOptimization #12:\n- created rateLimit.middleware with in-memory rate limiting\n- batch-search-actors: 5 requests/min (conservative)\n- batch-follow-users: 8 requests/hr (conservative)\n- calculated based on AT Protocol limits with 50% buffer\n- DRY implementation with applyRateLimit helper function\n- prevents users from exhausting AT Protocol API limits\n- leaves buffer for likes, replies, posts\n\nNote: In-memory (resets on cold starts). Upgrade to Upstash Redis for production-grade shared state.",
    "files_changed": 3
  },
  {
    "hash": "35061ae467e17724d85493c94827c361dc84e6d1",
    "short_hash": "35061ae",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T19:12:00-05:00",
    "message": "move inline animations to Tailwind config\n\nOptimization #11:\n- added float-1, float-2, float-3 animation variants to tailwind.config.js\n- replaced inline animation and animationDelay styles with Tailwind classes\n- use modulo pattern to cycle through 3 animation variants\n- maintains visual variety without Math.random() for animation timing\n- consistent with Tailwind conventions, easier to maintain",
    "files_changed": 2
  },
  {
    "hash": "6b5cf20f95ea43d18c5d05fa80ff7e94d7aa26d2",
    "short_hash": "6b5cf20",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T19:05:42-05:00",
    "message": "replace localStorage context with zustand persist store\n\nOptimization #10:\n- created useSettingsStore with zustand persist middleware\n- removed SettingsContext.tsx (88 lines) and provider wrapper\n- added SSR-safe storage with cross-tab synchronization\n- automatic JSON serialization, no manual parse/stringify\n- maintained backward-compatible API (useSettings hook)\n- bundle size: +2.3KB for zustand library",
    "files_changed": 6
  },
  {
    "hash": "43710263eec21891c899f57e4d0434322612d353",
    "short_hash": "4371026",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T18:11:36-05:00",
    "message": "replace any types with AT Protocol interfaces\n\nOptimization #9:\n- created atproto.types.ts with proper AT Protocol interfaces\n- replaced 7 any types in batch-search-actors.ts\n- added ATProtoActor, ATProtoProfile, RankedActor, EnrichedActor types\n- improves type safety, compile-time error catching, IDE support",
    "files_changed": 3
  },
  {
    "hash": "65ac856188d644baed837eea7775aed307ca0a56",
    "short_hash": "65ac856",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T16:07:44-05:00",
    "message": "remove duplicate type definitions from Results.tsx\n\nOptimization #8:\n- removed 3 duplicate type definitions (atprotoSession, SourceUser, SearchResult)\n- import AtprotoSession and SearchResult from central types\n- prevents type drift, establishes single source of truth",
    "files_changed": 1
  },
  {
    "hash": "093b47d63a6324c2e4bc231d45c5d9d6792383ed",
    "short_hash": "093b47d",
    "author": "Ariel M. Lighty",
    "date": "2025-12-23T15:58:35-05:00",
    "message": "replace duplicate validation with Zod schemas\n\nOptimizations #6 & #7:\n- #6: verified early exit optimization already implemented in FollowService\n- #7: created validation.utils.ts with Zod schemas for array validation\n- replaced 3 duplicate validation blocks with reusable Zod schemas\n- updated batch-follow-users, check-follow-status, batch-search-actors",
    "files_changed": 5
  }
]